#!/bin/bash

#------------------------------------------------------------------------------
#          Harvard University Atmospheric Chemistry Modeling Group            !
#------------------------------------------------------------------------------
#BOP
#
# !MODULE: copy_1mon
#
# !DESCRIPTION: Copies the 1-month plots and model output files to 
#  two locations: (1) The regular FTP site (updated 1x/day) and (2) a 
#  "quick-look" FTP site (updated hourly).  This will allow GEOS-Chem 
#  developers to examine outputs from the 1-month benchmark simulations.
#\\
#\\
# !CALLING SEQUENCE:
#  copy_1month v10-01h  (or whatever the version # is)
#
# !REVISION HISTORY: 
#  15 Jun 2011 - R. Yantosca - Initial version
#  01 Aug 2011 - R. Yantosca - Also copy the README file
#  15 Feb 2012 - M. Payer    - Comment out references to dir in my copy_1mon --
#                              Only Bob has permission to write to that dir.
#  24 Mar 2015 - M. Sulprizio- Now a bash script
#EOP
#------------------------------------------------------------------------------
#BOC

# Make sure the version string is passed
if [ $# != 1 ]; then 
   echo "Usage: copy_1mon VERSION"
   exit 0
fi

#----------------------------------------------------------------------------
# Copy output to "quick look" ftp site 
#----------------------------------------------------------------------------

# Set variables
version=$1
dirq="/as/pub/ftp/pub/exchange/mpayer/1mo_quick_look/$version/"

# Make the directory if it does not exist
if [ ! -d $dirq ]; then
  echo "Creating $dirq"
  mkdir $dirq
fi

echo "Copying 1-month benchmark output to $dirq"

# Copy 1-month benchmark output 
cp -f $version.budget.fullchem     $dirq
cp -f $version.emissions.fullchem  $dirq
cp -f $version.*.pdf               $dirq
cp -rf emission_maps               $dirq
cp -rf emission_differences        $dirq
cp -rf emission_ratios             $dirq

# Copy ouptut files from model
cp -f ../ctm.bpch.$version         $dirq
cp -f ../Ox.mass*                  $dirq  
cp -f ../*info.dat                 $dirq
cp -f ../$version.log              $dirq
cp -f ../HEMCO.log                 $dirq
cp -f ../README                    $dirq

#----------------------------------------------------------------------------
# Copy output to permanent ftp site 
#
# NOTE: Only Bob Y. has permission to write to permanent ftp site
#----------------------------------------------------------------------------
## Set variables
#set dir     = "/as/pub/ftp/pub/geos-chem/1mo_benchmarks/$version"
#
## Make the directory if it does not exist
#if [ -f $dir ]; then
#  mkdir $dir
#fi
#
#echo "Copying 1-month benchmark output to $dir"
#
## Copy 1-month benchmark output 
#cp -f $version.budget.fullchem     $dir
#cp -f $version.emissions.fullchem  $dir
#cp -f $version.*.pdf               $dir
#
## Copy ouptut files from model
#cp -f ../ctm.bpch.$version         $dir
#cp -f ../Ox.mass*                  $dir  
#cp -f ../*info.dat                 $dir
#cp -f ../$version.log              $dir
#cp -f ../HEMCO.log                 $dir
#cp -f ../README                    $dir

# Clear variables
unset version
unset root
unset dirq
unset dir

# Exit normally
exit 0
#EOC
